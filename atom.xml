<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Tony超的博客</title>
  
  <subtitle>你想拥有什么，你就去追求什么!</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://rocketman14.github.io/"/>
  <updated>2018-03-11T08:25:50.000Z</updated>
  <id>https://rocketman14.github.io/</id>
  
  <author>
    <name>孙建超</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>分享多张图片到微信朋友圈</title>
    <link href="https://rocketman14.github.io/2018/03/11/android/share/"/>
    <id>https://rocketman14.github.io/2018/03/11/android/share/</id>
    <published>2018-03-11T07:52:53.000Z</published>
    <updated>2018-03-11T08:25:50.000Z</updated>
    
    <content type="html"><![CDATA[<script src="/assets/js/APlayer.min.js"> </script><p>####分享多张图片到微信朋友圈</p><h3 id="分享核心代码"><a href="#分享核心代码" class="headerlink" title="分享核心代码"></a>分享核心代码</h3><pre><code>/** *content: 朋友圈的文字内容 *uris: 图片的集合 */private void shareToWX(Activity activity,String content, ArrayList&lt;Uri&gt; uris){    try {        Intent intent = new Intent();        ComponentName comp = new ComponentName(&quot;com.tencent.mm&quot;, &quot;com.tencent.mm.ui.tools.ShareToTimeLineUI&quot;);        intent.setComponent(comp);        intent.setAction(Intent.ACTION_SEND_MULTIPLE);        intent.setType(&quot;image/*&quot;);        intent.putExtra(&quot;Kdescription&quot;, content);        intent.putParcelableArrayListExtra(Intent.EXTRA_STREAM, uris);        activity.startActivityForResult(intent, 10);    } catch (ActivityNotFoundException e) {        activity.runOnUiThread(new Runnable() {            @Override            public void run() {                Toast.makeText(activity, &quot;您还未安装微信&quot;, Toast.LENGTH_SHORT).show();            }        });    }}</code></pre><h3 id="7-0获取Uri代码"><a href="#7-0获取Uri代码" class="headerlink" title="7.0获取Uri代码"></a>7.0获取Uri代码</h3><pre><code>if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {    return FileProvider.getUriForFile(context, &quot;{你的包名}.fileprovider&quot;, file);} else {    return Uri.fromFile(file);}//备注：file : File 类型的对象 [也可在7.0以后的版本中获取Uri]  try {    return Uri.parse(android.provider.MediaStore.Images.Media.insertImage(context.getContentResolver(), file.getAbsolutePath(), file.getName(), null));} catch (FileNotFoundException e) {    e.printStackTrace();}</code></pre><h3 id="AndroidManifest-xml"><a href="#AndroidManifest-xml" class="headerlink" title="AndroidManifest.xml"></a>AndroidManifest.xml</h3><pre><code>&lt;/application&gt;...&lt;providerandroid:name=&quot;android.support.v4.content.FileProvider&quot;android:authorities=&quot;{applicationId}.fileprovider&quot;android:exported=&quot;false&quot;android:grantUriPermissions=&quot;true&quot;&gt;&lt;meta-dataandroid:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;android:resource=&quot;@xml/file_provider_paths&quot; /&gt;&lt;/provider&gt;&lt;/application&gt;</code></pre><h3 id="file-provider-paths-xml-res目录下创建xml文件夹"><a href="#file-provider-paths-xml-res目录下创建xml文件夹" class="headerlink" title="file_provider_paths.xml (res目录下创建xml文件夹)"></a>file_provider_paths.xml (res目录下创建xml文件夹)</h3><pre><code>&lt;files-path&gt; 共享app内部的存储(等价于 Context.getFilesDir() 返回的内容)&lt;files-path name=&quot;name&quot; path=&quot;path&quot; /&gt;&lt;cache-path&gt; 共享内部缓存目录(等价于 getCacheDir() 返回的内容)&lt;cache-path name=&quot;name&quot; path=&quot;path&quot; /&gt;&lt;external-path&gt; 共享外部的存储(等价于 Environment.getExternalStorageDirectory() 返回的内容)&lt;external-path name=&quot;name&quot; path=&quot;path&quot; /&gt;&lt;external-files-path&gt; 共享外部存储中与你的应用关联的目录(等于 Context.getExternalFilesDir(String) 或 Context.getExternalFilesDir(null) 返回的内容)&lt;external-files-path name=&quot;name&quot; path=&quot;path&quot; /&gt;&lt;external-cache-path&gt; 共享外部存储中与你的应用关联的缓存目录(等价于 Context.getExternalCacheDir() 返回的内容)&lt;external-cache-path name=&quot;name&quot; path=&quot;path&quot; /&gt;        ##关于属性        name=&quot;name&quot;引号里的内容可以随便填，建议填有意义的内容。path=&quot;path&quot;path属性的值表示共享的具体路径。注意：path属性里指定的是路径，而不是某个特定文件。这里不能指定为一个文件，也不能用通配符指定为一组文件</code></pre><p>###授权<br>    //临时授权<br>    intent.setFlags(FLAG_GRANT_READ_URI_PERMISSION 或 FLAG_GRANT_WRITE_URI_PERMISSION);</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script src=&quot;/assets/js/APlayer.min.js&quot;&gt; &lt;/script&gt;&lt;p&gt;####分享多张图片到微信朋友圈&lt;/p&gt;
&lt;h3 id=&quot;分享核心代码&quot;&gt;&lt;a href=&quot;#分享核心代码&quot; class=&quot;headerlink&quot; title=&quot;分享核心代码
      
    
    </summary>
    
    
      <category term="share" scheme="https://rocketman14.github.io/tags/share/"/>
    
  </entry>
  
  <entry>
    <title>文章测试</title>
    <link href="https://rocketman14.github.io/2018/03/11/test/%E6%B5%8B%E8%AF%95%E6%96%87%E7%AB%A06/"/>
    <id>https://rocketman14.github.io/2018/03/11/test/测试文章6/</id>
    <published>2018-03-11T03:30:10.000Z</published>
    <updated>2018-03-11T04:05:29.000Z</updated>
    
    <content type="html"><![CDATA[<script src="/assets/js/APlayer.min.js"> </script><p>测试测试测试测试</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script src=&quot;/assets/js/APlayer.min.js&quot;&gt; &lt;/script&gt;&lt;p&gt;测试测试测试测试&lt;/p&gt;

      
    
    </summary>
    
      <category term="测试6" scheme="https://rocketman14.github.io/categories/%E6%B5%8B%E8%AF%956/"/>
    
    
      <category term="npm" scheme="https://rocketman14.github.io/tags/npm/"/>
    
      <category term="hexo" scheme="https://rocketman14.github.io/tags/hexo/"/>
    
      <category term="github" scheme="https://rocketman14.github.io/tags/github/"/>
    
  </entry>
  
  <entry>
    <title>文章测试</title>
    <link href="https://rocketman14.github.io/2018/03/08/test/%E6%B5%8B%E8%AF%95%E6%96%87%E7%AB%A05/"/>
    <id>https://rocketman14.github.io/2018/03/08/test/测试文章5/</id>
    <published>2018-03-08T05:35:31.000Z</published>
    <updated>2018-03-08T09:24:20.000Z</updated>
    
    <content type="html"><![CDATA[<script src="/assets/js/APlayer.min.js"> </script><p>测试测试测试测试测试测试测试测试测试测试测试测试测试3333333</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script src=&quot;/assets/js/APlayer.min.js&quot;&gt; &lt;/script&gt;&lt;p&gt;测试测试测试测试测试测试测试测试测试测试测试测试测试3333333&lt;/p&gt;

      
    
    </summary>
    
      <category term="测试5" scheme="https://rocketman14.github.io/categories/%E6%B5%8B%E8%AF%955/"/>
    
    
      <category term="npm" scheme="https://rocketman14.github.io/tags/npm/"/>
    
      <category term="hexo" scheme="https://rocketman14.github.io/tags/hexo/"/>
    
      <category term="github" scheme="https://rocketman14.github.io/tags/github/"/>
    
  </entry>
  
</feed>
